{"ast":null,"code":"var _jsxFileName = \"/Users/irtaza/Documents/GitHub/437nutrition/backend/nutrition/src/components/Settings.js\";\nimport React, { Component } from 'react'; // import logo from '../images/app_logo.png';\n\nimport './Settings.css';\nimport firebase from \"../fire\";\nimport { db } from '../fire';\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Settings extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: null,\n      email: null,\n      age: null,\n      weight: null,\n      heightfeet: null,\n      heightinches: null,\n      gender: null,\n      dietRestrictions: null\n    };\n    this.fetchUserInfo = this.fetchUserInfo.bind(this);\n    this.updateClicked = this.updateClicked.bind(this);\n    firebase.auth().onAuthStateChanged(user => {\n      user ? localStorage.setItem('loggedinuser', JSON.stringify(user)) : localStorage.removeItem('loggedinuser');\n    });\n  }\n\n  render() {\n    if (this.state.dietRestrictions !== null) {\n      let name = this.state.name;\n      let email = this.state.email;\n      let age = this.state.age;\n      let weight = this.state.weight;\n      let heightfeet = this.state.heightfeet;\n      let heightinches = this.state.heightinches;\n      let gender = this.state.gender;\n      let diet = this.state.dietRestrictions;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-style-3\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: e => this.updateClicked(e),\n            children: [/*#__PURE__*/_jsxDEV(\"fieldset\", {\n              children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n                children: \"Your Profile\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 49,\n                columnNumber: 39\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"name\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Name \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 50,\n                  columnNumber: 55\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"input-field\",\n                  name: \"name\",\n                  value: name,\n                  readOnly: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 50,\n                  columnNumber: 73\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 50,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"email\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Email \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 51,\n                  columnNumber: 56\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  className: \"input-field\",\n                  name: \"email\",\n                  value: email,\n                  readOnly: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 51,\n                  columnNumber: 75\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n              children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n                children: \"Health Info\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 39\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"age\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Age \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 56,\n                  columnNumber: 54\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  className: \"input-field\",\n                  name: \"age\",\n                  min: \"0\",\n                  defaultValue: age\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 56,\n                  columnNumber: 71\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"weight\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Weight \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 57,\n                  columnNumber: 57\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  className: \"input-field\",\n                  name: \"weight\",\n                  min: \"0\",\n                  defaultValue: weight\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 57,\n                  columnNumber: 77\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                id: \"heightLabel\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Height \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 59,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  id: \"heightinputs\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    id: \"heightfeet\",\n                    type: \"number\",\n                    className: \"input-field\",\n                    name: \"heightfeet\",\n                    min: \"0\",\n                    max: \"10\",\n                    defaultValue: heightfeet\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 61,\n                    columnNumber: 41\n                  }, this), \"ft\", /*#__PURE__*/_jsxDEV(\"input\", {\n                    id: \"heightinches\",\n                    type: \"number\",\n                    className: \"input-field\",\n                    name: \"heightinches\",\n                    min: \"0\",\n                    max: \"11\",\n                    defaultValue: heightinches\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 62,\n                    columnNumber: 41\n                  }, this), \"in\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 60,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"gender\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Gender\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 70,\n                  columnNumber: 57\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  name: \"gender\",\n                  className: \"select-field\",\n                  defaultValue: gender,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"female\",\n                    children: \"Female\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 72,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"male\",\n                    children: \"Male\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 73,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"other\",\n                    children: \"Other\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 74,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                id: \"dietLabel\",\n                children: \"Allergies:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"checkboxLabel\",\n                children: [diet.dairy ? /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  name: \"dairy\",\n                  value: \"dairy\",\n                  defaultChecked: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 51\n                }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  name: \"dairy\",\n                  value: \"dairy\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 121\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Dairy\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 175\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"checkboxLabel\",\n                children: [diet.egg ? /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  name: \"egg\",\n                  value: \"egg\",\n                  defaultChecked: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 49\n                }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  name: \"egg\",\n                  value: \"egg\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 115\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Egg\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 165\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"checkboxLabel\",\n                children: [diet.wheat ? /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  name: \"wheat\",\n                  value: \"wheat\",\n                  defaultChecked: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 51\n                }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  name: \"wheat\",\n                  value: \"wheat\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 121\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Wheat\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 175\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"checkboxLabel\",\n                children: [diet.soybean ? /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  name: \"soybean\",\n                  value: \"soybean\",\n                  defaultChecked: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 53\n                }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  name: \"soybean\",\n                  value: \"soybean\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 127\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Soybean\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 185\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"checkboxLabel\",\n                children: [diet.gluten ? /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  name: \"gluten\",\n                  value: \"gluten\",\n                  defaultChecked: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 52\n                }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  name: \"gluten\",\n                  value: \"gluten\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 124\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Gluten\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 180\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"checkboxLabel\",\n                children: [diet.nuts ? /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  name: \"nuts\",\n                  value: \"nuts\",\n                  defaultChecked: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 50\n                }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  name: \"nuts\",\n                  value: \"nuts\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 118\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Nuts\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 171\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"submit\",\n                value: \"Update\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this);\n    } else {\n      this.fetchUserInfo();\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, this);\n    }\n  }\n\n  updateClicked(e) {\n    e.preventDefault();\n    let age = e.target.elements.age.value;\n    let weight = e.target.elements.weight.value;\n    let heightfeet = e.target.elements.heightfeet.value;\n    let heightinches = e.target.elements.heightinches.value;\n    let gender = e.target.elements.gender.value;\n    let dairy = e.target.elements.dairy.checked;\n    let egg = e.target.elements.egg.checked;\n    let wheat = e.target.elements.wheat.checked;\n    let soybean = e.target.elements.soybean.checked;\n    let gluten = e.target.elements.gluten.checked;\n    let nuts = e.target.elements.nuts.checked; // let vegetarian = e.target.elements.vegetarian.checked;\n    // let vegan = e.target.elements.vegan.checked;\n\n    let user = JSON.parse(localStorage.getItem('loggedinuser'));\n\n    if (user !== null) {\n      db.collection(\"users\").doc(user.uid).update({\n        age: age,\n        weight: weight,\n        heightfeet: heightfeet,\n        heightinches: heightinches,\n        gender: gender,\n        dairy: dairy,\n        egg: egg,\n        wheat: wheat,\n        soybean: soybean,\n        gluten: gluten,\n        nuts: nuts // vegetarian: vegetarian,\n        // vegan: vegan,\n\n      }).then(() => {\n        console.log(\"Updated user info\"); // Rerender this component with updated info:\n\n        this.forceUpdate();\n      });\n    }\n  } // Fetches user measurements and dietary restrictions info\n\n\n  fetchUserInfo() {\n    let user = JSON.parse(localStorage.getItem('loggedinuser'));\n\n    if (user !== null) {\n      let uid = user.uid;\n      console.log(uid);\n      db.collection(\"users\").doc(uid).get().then(doc => {\n        let data = doc.data();\n        console.log(data);\n        let diet = {\n          // dietary restrictions info\n          dairy: data.dairy,\n          egg: data.egg,\n          wheat: data.wheat,\n          soybean: data.soybean,\n          gluten: data.gluten,\n          nuts: data.nuts // vegetarian: data.vegetarian,\n          // vegan: data.vegan,\n\n        };\n        this.setState({\n          name: data.name,\n          // string\n          email: data.email,\n          // string\n          gender: data.gender,\n          // string\n          age: data.age,\n          // number\n          weight: data.weight,\n          // number\n          heightfeet: data.heightfeet,\n          // number\n          heightinches: data.heightinches,\n          // number\n          dietRestrictions: diet // object\n\n        }, function () {\n          console.log(\"--- Finished setting user info ---\");\n        });\n      });\n    }\n  }\n\n}\n\nexport default Settings;","map":{"version":3,"sources":["/Users/irtaza/Documents/GitHub/437nutrition/backend/nutrition/src/components/Settings.js"],"names":["React","Component","firebase","db","Checkbox","Settings","constructor","props","state","name","email","age","weight","heightfeet","heightinches","gender","dietRestrictions","fetchUserInfo","bind","updateClicked","auth","onAuthStateChanged","user","localStorage","setItem","JSON","stringify","removeItem","render","diet","e","dairy","egg","wheat","soybean","gluten","nuts","preventDefault","target","elements","value","checked","parse","getItem","collection","doc","uid","update","then","console","log","forceUpdate","get","data","setState"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n// import logo from '../images/app_logo.png';\nimport './Settings.css';\nimport firebase from \"../fire\";\nimport { db } from '../fire';\nimport Checkbox from \"@material-ui/core/Checkbox\";\n\nclass Settings extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: null,\n            email: null,\n            age: null,\n            weight: null,\n            heightfeet: null,\n            heightinches: null,\n            gender: null,\n            dietRestrictions: null,\n        }\n\n        this.fetchUserInfo = this.fetchUserInfo.bind(this);\n        this.updateClicked = this.updateClicked.bind(this);\n\n        firebase.auth().onAuthStateChanged(user => {\n            user\n                ? localStorage.setItem('loggedinuser', JSON.stringify(user))\n                : localStorage.removeItem('loggedinuser');\n        });\n    }\n\n    render() {\n\n        if (this.state.dietRestrictions !== null) {\n            let name = this.state.name;\n            let email = this.state.email;\n            let age = this.state.age;\n            let weight = this.state.weight;\n            let heightfeet = this.state.heightfeet;\n            let heightinches = this.state.heightinches;\n            let gender = this.state.gender;\n            let diet = this.state.dietRestrictions;\n            \n            return (\n                <div>\n                    <div className=\"form-style-3\">\n                        <form onSubmit={(e) => this.updateClicked(e)}>\n                            {/* Profile info (cannot update)  */}\n                            <fieldset><legend>Your Profile</legend>\n                                <label htmlFor=\"name\"><span>Name </span><input type=\"text\" className=\"input-field\" name=\"name\" value={name} readOnly /></label>\n                                <label htmlFor=\"email\"><span>Email </span><input type=\"email\" className=\"input-field\" name=\"email\" value={email} readOnly /></label>\n                            </fieldset>\n\n                            {/* User health info (can update) */}\n                            <fieldset><legend>Health Info</legend>\n                                <label htmlFor=\"age\"><span>Age </span><input type=\"number\" className=\"input-field\" name=\"age\" min=\"0\" defaultValue={age} /></label>\n                                <label htmlFor=\"weight\"><span>Weight </span><input type=\"number\" className=\"input-field\" name=\"weight\" min=\"0\" defaultValue={weight} /></label>\n                                <label id=\"heightLabel\">\n                                    <span>Height </span>\n                                    <div id=\"heightinputs\">\n                                        <input id=\"heightfeet\" type=\"number\" className=\"input-field\" name=\"heightfeet\" min=\"0\" max=\"10\" defaultValue={heightfeet} />ft\n                                        <input id=\"heightinches\" type=\"number\" className=\"input-field\" name=\"heightinches\" min=\"0\" max=\"11\" defaultValue={heightinches} />in\n                                    </div>\n\n                                </label>\n                                {/* <label id=\"heightfeet\"> <span>ft </span> <input type=\"number\" className=\"input-field\" name=\"heightfeet\" min=\"0\" max=\"10\" /> </label>\n                                    <label id=\"heightinches\"> <span>in<span> </span></span><input type=\"number\" className=\"input-field\" name=\"heightinches\" min=\"0\" max=\"11\" /> </label> */}\n\n                                {/* Dropdown for gender */}\n                                <label htmlFor=\"gender\"><span>Gender</span>\n                                    <select name=\"gender\" className=\"select-field\" defaultValue={gender}>\n                                        <option value=\"female\">Female</option>\n                                        <option value=\"male\">Male</option>\n                                        <option value=\"other\">Other</option>\n                                    </select>\n                                </label>\n                                {/* Checkboxes for dietary restrictions: */}\n                                {/* <Checkbox></Checkbox> */}\n                                <label id=\"dietLabel\">Allergies:</label>\n                                {/* For each checkbox, if the user has this restriction, display it as checked. */}\n                                <label className=\"checkboxLabel\"> \n                                    {diet.dairy ? <input type=\"checkbox\" name=\"dairy\" value=\"dairy\" defaultChecked /> : <input type=\"checkbox\" name=\"dairy\" value=\"dairy\" />} <span>Dairy</span>\n                                </label>\n                                <label className=\"checkboxLabel\">\n                                    {diet.egg ? <input type=\"checkbox\" name=\"egg\" value=\"egg\" defaultChecked /> : <input type=\"checkbox\" name=\"egg\" value=\"egg\" />} <span>Egg</span>\n                                </label>\n                                <label className=\"checkboxLabel\">\n                                    {diet.wheat ? <input type=\"checkbox\" name=\"wheat\" value=\"wheat\" defaultChecked /> : <input type=\"checkbox\" name=\"wheat\" value=\"wheat\" />} <span>Wheat</span>\n                                </label>\n                                <label className=\"checkboxLabel\">\n                                    {diet.soybean ? <input type=\"checkbox\" name=\"soybean\" value=\"soybean\" defaultChecked /> : <input type=\"checkbox\" name=\"soybean\" value=\"soybean\" />} <span>Soybean</span>\n                                </label>\n                                <label className=\"checkboxLabel\">\n                                    {diet.gluten ? <input type=\"checkbox\" name=\"gluten\" value=\"gluten\" defaultChecked /> : <input type=\"checkbox\" name=\"gluten\" value=\"gluten\" />} <span>Gluten</span>\n                                </label>\n                                <label className=\"checkboxLabel\">\n                                    {diet.nuts ? <input type=\"checkbox\" name=\"nuts\" value=\"nuts\" defaultChecked /> : <input type=\"checkbox\" name=\"nuts\" value=\"nuts\" /> } <span>Nuts</span>\n                                </label>\n                                {/* <label className=\"checkboxLabel\">\n                                    {diet.vegetarian ? <input type=\"checkbox\" name=\"vegetarian\" value=\"vegetarian\" defaultChecked /> : <input type=\"checkbox\" name=\"vegetarian\" value=\"vegetarian\" />} <span>Vegetarian</span>\n                                    </label>\n                                <label className=\"checkboxLabel\">\n                                    {diet.vegan ? <input type=\"checkbox\" name=\"vegan\" value=\"vegan\" defaultChecked /> : <input type=\"checkbox\" name=\"vegan\" value=\"vegan\" />} <span>Vegan</span>\n                                </label> */}\n\n                                <input type=\"submit\" value=\"Update\" />\n                                {/* When reset clicked, fields reset to original default values (not imp) */}\n                                {/* <input type=\"reset\" value=\"Reset\" /> */}\n                            \n                            </fieldset>\n                        </form>\n                    </div>\n                </div>\n            );\n        } else {\n            this.fetchUserInfo();\n            return (\n                <div>Loading...</div>\n            );\n        }\n\n\n\n\n    }\n\n    updateClicked(e) {\n        e.preventDefault();\n        let age = e.target.elements.age.value;\n        let weight = e.target.elements.weight.value;\n        let heightfeet = e.target.elements.heightfeet.value;\n        let heightinches = e.target.elements.heightinches.value;\n        let gender = e.target.elements.gender.value;\n        let dairy = e.target.elements.dairy.checked;\n        let egg = e.target.elements.egg.checked;\n        let wheat = e.target.elements.wheat.checked;\n        let soybean = e.target.elements.soybean.checked;\n        let gluten = e.target.elements.gluten.checked;\n        let nuts = e.target.elements.nuts.checked;\n        \n        \n        // let vegetarian = e.target.elements.vegetarian.checked;\n        // let vegan = e.target.elements.vegan.checked;\n       \n        let user = JSON.parse(localStorage.getItem('loggedinuser'));\n\n        if (user !== null) {\n\n            db.collection(\"users\").doc(user.uid).update({\n                age: age,\n                weight: weight,\n                heightfeet: heightfeet,\n                heightinches: heightinches,\n                gender: gender,\n                dairy: dairy,\n                egg: egg,\n                wheat: wheat,\n                soybean: soybean,\n                gluten: gluten,\n                nuts: nuts,\n                // vegetarian: vegetarian,\n                // vegan: vegan,\n            }).then(() => {\n                console.log(\"Updated user info\");\n                // Rerender this component with updated info:\n                this.forceUpdate();\n            });\n        }\n        \n    }\n\n    // Fetches user measurements and dietary restrictions info\n    fetchUserInfo() {\n        let user = JSON.parse(localStorage.getItem('loggedinuser'));\n\n        if (user !== null) {\n            let uid = user.uid;\n            console.log(uid);\n\n            db.collection(\"users\").doc(uid).get().then((doc) => {\n                let data = doc.data();\n                console.log(data);\n                \n                let diet = {    // dietary restrictions info\n                    dairy: data.dairy,\n                    egg: data.egg,\n                    wheat: data.wheat,\n                    soybean: data.soybean,\n                    gluten: data.gluten,\n                    nuts: data.nuts,\n                    // vegetarian: data.vegetarian,\n                    // vegan: data.vegan,\n                }\n\n                this.setState({\n                    name: data.name,    // string\n                    email: data.email,  // string\n                    gender: data.gender,    // string\n                    age: data.age,      // number\n                    weight: data.weight,    // number\n                    heightfeet: data.heightfeet,    // number\n                    heightinches: data.heightinches,    // number\n                    dietRestrictions: diet,     // object\n                    \n                }, function () {\n                    console.log(\"--- Finished setting user info ---\");\n                });\n\n            });\n        }\n    }\n\n\n\n}\n\nexport default Settings;"]},"metadata":{},"sourceType":"module"}